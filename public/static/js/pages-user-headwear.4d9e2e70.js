(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-headwear"],{"32da":function(t,e,a){var i=a("3390");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("6daa9afb",i,!0,{sourceMap:!1,shadowMode:!1})},3390:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".container[data-v-fb633f42]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;height:100%}.container .avatar-wrap[data-v-fb633f42]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?20?%;position:relative}.container .avatar-wrap .avatar-block[data-v-fb633f42]{margin:%?20?%;width:%?120?%;height:%?120?%;position:relative}.container .avatar-wrap .avatar[data-v-fb633f42]{width:100%;height:100%;border-radius:50%}.container .avatar-wrap .headwear[data-v-fb633f42]{width:%?180?%;height:%?180?%}.container .tips[data-v-fb633f42]{height:%?80?%;-webkit-flex-shrink:0;flex-shrink:0;font-size:%?24?%;background-color:#fef8d4}.container .check[data-v-fb633f42]{height:%?60?%;margin:%?20?% %?30?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;line-height:%?60?%}.container .check .item[data-v-fb633f42]{height:%?60?%;padding:0 %?20?%;border:#000 %?2?% solid;border-radius:%?30?%}.container .check .item[data-v-fb633f42]:not(:last-of-type){margin-right:%?30?%}.container .check .active[data-v-fb633f42]{border-color:#fd523e;color:#fd523e}.container .list-wrap[data-v-fb633f42]{overflow-y:scroll;overflow-x:hidden;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.container .ios-list-fix[data-v-fb633f42]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.container .list-wrap .item[data-v-fb633f42]{font-size:%?24?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:%?250?%;border-right:1px solid #eee;border-bottom:1px solid #eee;margin-right:-1px;margin-bottom:-1px}.container .list-wrap .item .top-wrap[data-v-fb633f42]{height:%?180?%;margin-top:%?10?%;margin-bottom:%?10?%;width:%?230?%;background-color:#fafafa;position:relative}.container .list-wrap .item .top-wrap.use[data-v-fb633f42]{background-color:#e6f8fc}.container .list-wrap .item .top-wrap .badge[data-v-fb633f42]{width:%?30?%;height:%?30?%;position:absolute;right:%?10?%;top:%?10?%}.container .list-wrap .item .top-wrap .icon[data-v-fb633f42]{width:%?120?%;height:%?120?%}.container .list-wrap .item .btn[data-v-fb633f42]{border-radius:%?50?%;background-color:#fd523e;color:#fff;width:%?150?%;height:%?50?%;margin:%?10?%}.container .list-wrap .item .btn.success[data-v-fb633f42]{background-color:#17b6f0}.container .list-wrap .item .btn.disable[data-v-fb633f42]{background-color:#999}",""]),t.exports=e},"5d4f":function(t,e,a){"use strict";var i=a("32da"),n=a.n(i);n.a},"7ef2":function(t,e,a){"use strict";a.r(e);var i=a("9c1f"),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"9c1f":function(t,e,a){"use strict";var i=a("ee27");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("64f2")),r=i(a("0232")),s=i(a("bbc3")),o={components:{badgeComponent:n.default,modalComponent:s.default,btnComponent:r.default},data:function(){return{list:[[],[]],curHeadwear:{},checkArr:[{label:"往期头饰",value:0},{label:"成就头饰",value:1}],currentType:0,listclass:""}},onLoad:function(t){this.currentType=t.type,this.loadData()},onShow:function(){var t=uni.getSystemInfoSync();"ios"==t.platform&&(this.listclass="ios-list-fix")},onShareAppMessage:function(t){var e=t.target&&t.target.dataset.share;return this.$app.commonShareAppMessage(e)},methods:{preHead:function(t){this.curHeadwear=t},checkoutType:function(t){t!=this.currentType&&(this.currentType=t)},buy:function(t){var e=this;wx.showModal({title:"提示",content:"是否兑换？",success:function(a){a.confirm&&e.$app.request("headwear/buy",{hid:t.currentTarget.dataset.hid},(function(t){e.$app.toast(t.msg),e.loadData()}),"POST",!0)}})},use:function(t){var e=this;this.$app.request("headwear/use",{hid:t.currentTarget.dataset.hid},(function(t){e.$app.toast(t.msg),e.loadData()}),"POST",!0)},cancel:function(t){var e=this;this.$app.request("headwear/cancel",{},(function(t){e.$app.toast(t.msg),e.loadData()}),"POST",!0)},loadData:function(){var t=this;this.$app.request("headwear/select",{},(function(e){t.checkArr=e.data.config,t.list=e.data.list,t.curHeadwear=e.data.cur||null}))}}};e.default=o},af80:function(t,e,a){"use strict";var i,n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"container"},[a("v-uni-view",{staticClass:"avatar-wrap flex-set"},[a("v-uni-view",{staticClass:"avatar-block"},[a("v-uni-image",{staticClass:"avatar",attrs:{src:t.$app.getData("userInfo").avatarurl||this.AVATAR}}),t.curHeadwear&&t.curHeadwear.img?a("v-uni-image",{staticClass:"headwear position-set",attrs:{src:t.curHeadwear.img}}):t._e()],1),a("v-uni-view",[t._v(t._s(t.$app.getData("userInfo").nickname))])],1),a("v-uni-view",{staticClass:"tips flex-set"},[t._v("点击可预览效果")]),a("v-uni-view",{staticClass:"check"},t._l(t.checkArr,(function(e,i){return a("v-uni-view",{key:i,staticClass:"item",class:{active:i==t.currentType},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.checkoutType(i)}}},[t._v(t._s(e.label))])})),1),a("v-uni-view",{staticClass:"list-wrap",class:t.listclass},t._l(t.list[t.currentType],(function(e,i){return a("v-uni-view",{key:i,staticClass:"item"},[a("v-uni-view",{staticClass:"top-wrap flex-set",class:{use:t.curHeadwear&&t.curHeadwear.id==e.id},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.preHead(e)}}},[a("v-uni-image",{staticClass:"icon",attrs:{src:e.img}})],1),"NORMAL"==e.type?[a("v-uni-view",{staticClass:"fee"},[t._v(t._s(e.diamond)+"钻石")]),e.days>0?a("v-uni-view",[t._v("(有效期:"+t._s(e.days)+"天)")]):a("v-uni-view",[t._v("(长期)")]),-1==e.status?a("v-uni-view",{staticClass:"btn flex-set",attrs:{"data-hid":e.id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.buy.apply(void 0,arguments)}}},[t._v("兑换")]):t._e()]:t._e(),"ACHIEVEMENT"==e.type?[e.days>0?a("v-uni-view",[t._v("(有效期:"+t._s(e.days)+"天)")]):t._e()]:t._e(),0==e.status?a("v-uni-view",{staticClass:"btn flex-set success",attrs:{"data-hid":e.id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.use.apply(void 0,arguments)}}},[t._v("佩戴")]):t._e(),1==e.status?a("v-uni-view",{staticClass:"btn flex-set disable",attrs:{"data-hid":e.id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancel.apply(void 0,arguments)}}},[t._v("摘下")]):t._e()],2)})),1)],1)},r=[];a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}))},dbca:function(t,e,a){"use strict";a.r(e);var i=a("af80"),n=a("7ef2");for(var r in n)"default"!==r&&function(t){a.d(e,t,(function(){return n[t]}))}(r);a("5d4f");var s,o=a("f0c5"),c=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"fb633f42",null,!1,i["a"],s);e["default"]=c.exports}}]);